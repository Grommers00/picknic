<!DOCTYPE html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Picknic</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
    <link rel="stylesheet" type="text/css" href="/style.css">
    <style>
      @import 'https://fonts.googleapis.com/css?family=Pacifico';
      #map {
        display:block;
        min-height:250px;
      }
      .header {
        background-color: #a8d49f;
        box-sizing: border-box;
        display:table;
      }
      .header img {
        border-radius:8px;
        display: table-cell;
        margin: 6px 6px 2px 8px;
        width:45px;
      }
      .header span {
        color: #222;
        display: table-cell;
        font-family: 'Pacifico', cursive;
        font-size: 180%;
        vertical-align: middle;
        width:100%;
      }
      .sidebar {
        box-sizing: border-box;
        padding-left:4px;
      }
    </style>
  </head>
  <body>
    <form class="pure-form">
      <div class="pure-g">
        <div class="pure-u-1 header">
          <img alt="" class="pure-img" src="/images/picknic.svg"><span>Picknic</span>
        </div>
        <div class="pure-u-md-18-24">
          <div id="map" class="pure-u-1"></div>
        </div>
        <div class="pure-u-md-6-24 sidebar">
          <fieldset>
            <legend>Where</legend>
            <input id="address" type="text" class="pure-input-1" placeholder="Enter a Location">
          </fieldset>
          <fieldset>
            <legend>What</legend>
            
          </fieldset>
        </div>
      </div>
    </form>
    Hi mom!
    <script>
      // Inputs
      var addressInput = document.getElementById('address');
      
      var mapDiv = document.getElementById('map');
      
      // Resize map to fill page
      function resizeMap() {
        var mapRect = mapDiv.getBoundingClientRect();
        var bodyRect = document.body.getBoundingClientRect();
        // The following assumes that the margin-top == margin-bottom
        mapDiv.style.height = (bodyRect.bottom - (2 * bodyRect.top) - mapRect.top) + "px";
      }
      
      window.onresize = resizeMap;
      
      function initMap() {
        var initialPoint = {lat: 53.5444, lng: -113.4904};
        
        resizeMap();
        
        // Map Customization
        var map = new google.maps.Map(mapDiv, {
          zoom: 17,
          minZoom: 16,
          center: initialPoint,
          scrollwheel: false,
          streetViewControl: true,
          streetViewControlOptions: {position: google.maps.ControlPosition.LEFT_TOP},
          styles: [{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#444444"}]},{"featureType":"landscape","elementType":"geometry.fill","stylers":[{"visibility":"on"},{"color":"#f2f2f2"}]},{"featureType":"landscape","elementType":"geometry.stroke","stylers":[{"color":"#cacaca"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.park","elementType":"all","stylers":[{"visibility":"on"}]},{"featureType":"poi.park","elementType":"geometry.fill","stylers":[{"color":"#a8d49f"}]},{"featureType":"poi.school","elementType":"labels","stylers":[{"visibility":"on"}]},{"featureType":"poi.sports_complex","elementType":"geometry.fill","stylers":[{"visibility":"on"},{"color":"#ffd0b2"}]},{"featureType":"poi.sports_complex","elementType":"labels","stylers":[{"visibility":"on"}]},{"featureType":"road","elementType":"all","stylers":[{"saturation":-100},{"lightness":45}]},{"featureType":"road.highway","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.arterial","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"geometry.fill","stylers":[{"color":"#b3e3f9"}]}]
        });

        // Setup Autocomplete
        var autocomplete = new google.maps.places.Autocomplete(addressInput);
        autocomplete.bindTo('bounds', map);
        autocomplete.addListener('place_changed', function() {
          var place = autocomplete.getPlace();
          if(!place.geometry) {
            console.log("No geometry for place!");
            return;
          }

          // Re-center map
          if(place.geometry.viewport) {
            map.fitBounds(place.geometry.viewport);
          } else {
            map.setCenter(place.geometry.location);
            map.setZoom(17);
          }
        });
  

      }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDHm7qJ-_By08XAFZfK5xuqjnuLOlyXwbs&callback=initMap&libraries=places"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-rc1/jquery.min.js"></script>
  </body>
</html>
